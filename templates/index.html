<!DOCTYPE html>
<html>
<head>
    <title>Spam Classifier</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        form { margin-bottom: 20px; }
        textarea { width: 100%; height: 100px; margin: 10px 0; }
        .result { padding: 15px; margin: 20px 0; border-radius: 5px; }
        .spam { background-color: #ffdddd; border-left: 5px solid red; }
        .ham { background-color: #ddffdd; border-left: 5px solid green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Spam Classifier</h1>
    
    {% if error %}
        <div class="error">Error: {{ error }}</div>
    {% endif %}
    
    <form method="POST">
        <textarea name="message" placeholder="Enter your message here...">{{ message }}</textarea><br>
        <label>
            Threshold: 
            <input type="number" name="threshold" min="0" max="1" step="0.01" value="{{ threshold }}">
        </label>
        <button type="submit">Check Message</button>
    </form>
    
    {% if result %}
        <div class="result {{ result.lower() }}">
            <h2>Result: {{ result }}</h2>
            <p>Probability: {{ probability }}</p>
            {% if result == "SPAM" %}
                <p>⚠️ This message appears to be spam!</p>
            {% else %}
                <p>✓ This message appears to be legitimate (ham)</p>
            {% endif %}
        </div>
    {% endif %}
</body>
</html>